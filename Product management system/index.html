<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CRUD Operation in JS</title>

    <link
      rel="icon"
      type="image/x-icon"
      href="img/logo.png"
    />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />

    <!-- Custom css -->
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <div class="container">
      <!-- ========== Start HeaderSection ========== -->
      <div class="header my-5">
        <div class="row justify-content-center">
          <div class="col text-center text-white">
            <h1>Product Management System</h1>
          </div>
        </div>
      </div>
      <!-- ========== End HeaderSection ========== -->
      <div class="row mt-5 justify-content-evenly mx-1">
        <!-- ========== Start AddProductSection ========== -->
        <div class="col-12 addProductSec bg-light py-2">
          <div class="bodySec px-2 g-2 row d-flex justify-content-between">
            <div class="searchbar col-12 col-sm-6">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-search"
                viewBox="0 0 16 16"
              >
                <path
                  d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
                />
              </svg>
              <input
                type="text"
                id="sortInput"
                onkeyup="searchProduct()"
                placeholder="Search for products"
              />
            </div>
            <button
              class="col-5 col-sm-3 col-md-2 col-lg-2 btn bg-danger text-white"
              onclick="clearList()"
            >
              Delete All
            </button>
            <button
              class="col-6 col-sm-3 col-md-3 col-lg-2 btn"
              data-bs-toggle="modal"
              data-bs-target="#productAdd"
            >
              Add Product
            </button>
          </div>
        </div>
        <!-- ========== End AddProductSection ========== -->
        <!-- ========== Start ViewProductSection ========== -->

        <!-- ========== End ViewProductSection ========== -->
        <div class="col-12 viewProductSection mt-4 py-2 table-responsive">
          <div class="headingSec">
            <h3>Product List</h3>
          </div>
          <div class="bodySec">
            <table
              id="displayTable"
              class="table table-striped table-responsive table-hover"
            >
              <thead>
                <tr>
                  <th
                    scope="col"
                    class="d-flex"
                    onclick="sortData(0)"
                    width="5%"
                  >
                    <div class="d-flex">
                      Id
                      <div class="ms-1 d-inline">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="currentColor"
                          class="bi bi-arrow-down-up"
                          viewBox="0 0 16 16"
                        >
                          <path
                            fill-rule="evenodd"
                            d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z"
                          />
                        </svg>
                      </div>
                    </div>
                  </th>
                  <th scope="col" onclick="sortData(1)" width="20%">
                    <div class="d-flex">
                      Name
                      <div class="ms-1 d-inline">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="currentColor"
                          class="bi bi-arrow-down-up"
                          viewBox="0 0 16 16"
                        >
                          <path
                            fill-rule="evenodd"
                            d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z"
                          />
                        </svg>
                      </div>
                    </div>
                  </th>
                  <th scope="col" width="30%">Description</th>
                  <th scope="col" onclick="sortData(3)" width="10%">
                    <div class="d-flex">
                      Price

                      <div class="ms-1 d-inline">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="currentColor"
                          class="bi bi-arrow-down-up"
                          viewBox="0 0 16 16"
                        >
                          <path
                            fill-rule="evenodd"
                            d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5zm-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5z"
                          />
                        </svg>
                      </div>
                    </div>
                  </th>
                  <th scope="col" width="25%">Image</th>
                  <th scope="col" width="10%"></th>
                </tr>
              </thead>
              <tbody id="productData"></tbody>
            </table>
            <div class="emptyProductList text-center"></div>
          </div>
        </div>
      </div>

      <!-- ========== Start AddProductSection ========== -->

      <div
        class="modal fade"
        id="productAdd"
        tabindex="-1"
        aria-labelledby="updateProduct"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="updateProduct">
                Product Information
              </h1>
            </div>
            <div class="modal-body">
              <form id="addProductForm">
                <div class="row mb-3">
                  <label for="inputName" class="col-sm-3 col-form-label"
                    >Name</label
                  >
                  <div class="col-sm-9">
                    <input type="text" class="form-control" id="inputName" />
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="inputDescription" class="col-sm-3 col-form-label"
                    >Description</label
                  >
                  <div class="col-sm-9">
                    <textarea
                      class="form-control"
                      id="inputDescription"
                      rows="3"
                    ></textarea>
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="inputPrice" class="col-sm-3 col-form-label"
                    >Price</label
                  >
                  <div class="col-sm-9">
                    <input
                      type="number"
                      onkeydown="return event.keyCode !== 69 && event.keyCode !== 109 && event.keyCode !== 189 && event.keyCode !== 187 && event.keyCode !== 107"
                      class="form-control"
                      id="inputPrice"
                    />
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="inputImage" class="col-sm-3 col-form-label"
                    >Image</label
                  >
                  <div class="col-sm-9">
                    <input
                      type="file"
                      class="form-control"
                      id="inputImage"
                      accept="image/x-png,image/gif,image/jpeg"
                    />
                  </div>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                id="closeAddBtn"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button
                type="submit"
                data-toggle="toast"
                data-target="#toast1"
                class="btn btn-primary"
                onclick="addProduct()"
              >
                Add Product
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- ========== End AddProductSection ========== -->
      <!-- ========== Start viewProductSection ========== -->

      <div
        class="modal fade"
        id="productView"
        tabindex="-1"
        aria-labelledby="updateProduct"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="updateProduct">
                Product Information
              </h1>
            </div>
            <div class="modal-body">
              <form id="updateProductForm">
                <div class="row mb-3">
                  <label for="inputName" class="col-sm-3 col-form-label"
                    >Name</label
                  >
                  <div class="col-sm-9">
                    <input type="text" class="form-control" id="updateName" />
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="inputDescription" class="col-sm-3 col-form-label"
                    >Description</label
                  >
                  <div class="col-sm-9">
                    <textarea
                      class="form-control"
                      id="updateDescription"
                      rows="3"
                    ></textarea>
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="inputPrice" class="col-sm-3 col-form-label"
                    >Price</label
                  >
                  <div class="col-sm-9">
                    <input
                      type="number"
                      onkeydown="return event.keyCode !== 69 && event.keyCode !== 109 && event.keyCode !== 189 && event.keyCode !== 187 && event.keyCode !== 107"
                      class="form-control"
                      id="updatePrice"
                    />
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="inputImage" class="col-sm-3 col-form-label"
                    >Image</label
                  >
                  <div class="col-sm-9">
                    <input
                      type="file"
                      class="form-control"
                      id="updateImage"
                      accept="image/x-png,image/gif,image/jpeg"
                    />
                  </div>
                </div>
              </form>
              <div id="viewImage"></div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                id="closeBtn"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button
                type="button"
                data-toggle="toast"
                data-target="#toast2"
                class="btn btn-primary"
                id="updateBtn"
              >
                Save Changes
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- ========== End viewProductSection ========== -->

      <div class="toast-container position-fixed top-0 end-0 p-3">
        <div
          id="liveToast"
          class="toast"
          role="alert"
          aria-live="assertive"
          aria-atomic="true"
        >
          <div class="toast-header">
            <strong class="me-auto">Product Status</strong>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="toast"
              aria-label="Close"
            ></button>
          </div>
          <div class="toast-body" id="toastMessage"></div>
        </div>
      </div>

      <!-- Bootstrap JS -->
      <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"
      ></script>

      <!-- Custom JS -->
      <script src="app.js"></script>
    </div>
  </body>
</html>
